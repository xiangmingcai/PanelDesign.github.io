<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Designer</title>
    <link rel="stylesheet" href="src/styles.css">
</head>
<body>
    <div class="basic-div">
        <h1>Panel Designer</h1>
        <p>This website is designed to ... </p>
    </div>
    <!-- Step 1 Set up -->
    <div class="basic-div">
        <h2>Set Up</h2>
        <!-- Select Instrument -->
        <div>
            <label for="instrument-select">Choose an instrument:</label>
            <select id="instrument-select">
                <option value="Aurora5L" selected>Aurora5L</option>
                <option value="Xenith">Xenith</option>
                <option value="CytPix">CytPix</option>
                <option value="Fortessa">Fortessa</option>
                <option value="Custom">Custom</option>
            </select>
        </div>
        
        <!-- Custom unmixing matrix submit -->
        <div>
            <p>Submit custom unmixing matrix file, if needed:</p>
            <input type="file" id="custom-unmixing-file-input" >
            <p id="custom-unmixing-file-name" class = "small-gray-text"></p>
            <button id="read-custom-unmixing-file">Read the UnmixMatrix CSV</button>
            <p id="read-custom-unmixing-file-reminder" class = "small-gray-text"></p>
            <!-- Reminder: Unmixing matrix model file download or link to UMG-->
            <p class="hint-box">
                Click the button to download the model unmixing matrix file: <button id="unmixing-model-file-download-button" class="button-hint">Download CSV</button> 
                <br>
                You may also use <a href="https://github.com/xiangmingcai/UnmixingMtxGenerator.github.io" target="_blank">UnmixingMtxGenerator</a> to generate the unmixing matrix yourself.
            </p>
        </div>
        

        <!-- Fluors selection-->
        <div>
            <button id="generate-fluors-selection">Generate fluors</button>
            <p id="custom_csvArray-check" class = "small-gray-text"></p>
            <p id="matrix-compare-check-fluors-primary" class = "small-gray-text"></p>
            <p id="matrix-compare-check-fluors-secondary" class = "small-gray-text"></p>
            <p id="matrix-compare-check-channels-missing" class = "small-gray-text"></p>
            <p id="matrix-compare-check-channels-extra" class = "small-gray-text"></p>
            <div id="fluors-selection-div" style="display:none;">
                <div class="checkbox-container" id="fluors-checkbox-container">
                </div>
                <p>You may paste Secondary names here to do multiple selection. (one name per row)</p>
                <div class="input-container">
                    <textarea id="fluor-input" rows="5" cols="50"></textarea>
                    <button id="parse-input-fluor-names-text-botton">parse Input</button>
                </div>
                <p id="fluors-selection-reminder"></p>

                <!-- channels selection, if Custom instrument-->
                <div>
                    <div id="channels-selection-div">
                        <label for="use-all-channel-checkbox">Use All Channels</label>
                        <input type="checkbox" id="use-all-channel-checkbox" checked>
                        <div class="checkbox-container" id="channels-checkbox-container">
                        </div>
                        <p id="channels-selection-reminder"></p>
                    </div>
                </div>

                <button id="confirm-fluors-selection">Confirm fluors</button>
            </div>
        </div>

    
        <!-- fcs file match, if Custom instrument or added Custom unmixing matrix-->
        <div>
            <div class="fcs-file-input-container" id="custom-fcs-file-input-container">
            </div>
            
        </div>

        


    </div>
    <!-- Step 2 Evaluate panel-->
    <div class="basic-div">
        <h2>Panel Evaluation</h2>
        <div id="panel-evaluation-button-div" style="display:none;">
            <button id="panel_evaluation_button">Evaluate the panel!</button>
        </div>
        <div>

        </div>
        
    </div>
    

 
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>

    <footer>
        <p>&copy; 2025 Amsterdam UMC. All rights reserved.</p>
    </footer>
    <script src="dist/bundle.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    
</body>
</html>